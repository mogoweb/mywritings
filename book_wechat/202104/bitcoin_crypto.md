# 比特币背后的密码学算法

比特币的暴涨吸引了世人的眼球，而最近 CHIA 币的崛起还引起了机械硬盘的全线涨价，钱的诱惑比任何宣传都有用，很多人开始研究比特币。其实世面上和比特币类似的虚拟货币还有很多，都属于加密货币的一种。

我对这种“虚拟货币”的价值始终存怀疑态度，也没打算去碰它们。不过这段时间一直在研究密码学相关的知识，所以也花了一点时间了解比特币背后的密码学算法。

#### 椭圆曲线密码算法

在前面一篇文章《写给开发人员的实用密码学 - 非对称加密算法》中介绍了公钥加密算法，大家需要理解公钥和私钥的概念。

注册成为比特币用户时，系统会根据随机数生成一个私钥，其中私钥必须保密，可以保存到硬盘里或者记到脑子里。切记，私钥不要弄丢！！！一旦丢失，这个账户中所有的比特币将无法使用。这可不像银行账户的钱，账户丢了还可以通过使用身份证找回来。现实世界中，这样的倒霉蛋还不少，比如这位工程师：

> 一位英国工程师豪威尔在家大扫除时，因为自身疏忽，将存有7500枚比特币钱包密码的硬盘丢到了垃圾桶里。按照现在 5 万一个比特币的价格，这位倒霉的工程师损失了 37.5 亿美元！

为什么这个私钥这么重要？

因为私钥会生成一个公钥，公钥又会生成一个钱包地址。这个钱包地址相当于银行账户，比特币交易都在这个钱包地址中进行。

钱包地址和公钥都是公开的，那是不是像银行转账那样只需要知道钱包地址就可以了呢？也不行。因为在比特币的世界里，并没有集中的地方存储交易信息，每一笔交易都写在区块上。

现假设 A 向 B 转 10 个比特币，A 首先生成一条交易消息，然后对消息进行哈希，生成数字摘要，对数字摘要进行签名。之后 A 会广播这个条交易消息、公钥以及签名。收到消息的人首先对交易信息进行哈希生成摘要 1 ，再通过公钥对签名进行验证，如果验证通过，说明这个消息确实是 A 发出的。

在《写给开发人员的实用密码学 - 数字签名》这篇文章中介绍了数字签名，数字签名可以选择任意