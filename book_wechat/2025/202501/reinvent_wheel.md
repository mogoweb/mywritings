
在程序员的圈子里，有一句话广为流传：“Stop Trying to Reinvent the Wheel”，翻译成中文即为“不要重复发明轮子”。其核心意思是，对于一些已经成熟且高效的功能或模块，我们应当直接使用，而不是重复开发。

对于大多数程序员来说，这句话确实有其道理。直接采用现有的模块和方案，不仅能避免重复劳动，还能大幅提高开发效率，减少时间和精力的浪费。而且，自己重新编写的代码，未必能达到现有方案的稳定性和完善程度。

然而，对于那些技术大牛而言，情况就不同了。如果现有的“轮子”无法满足他们的需求，他们会毫不犹豫地选择“造轮子”。谷歌就是一个典型的例子。尽管这些年来谷歌反复“造轮子”，但每次都能够设计出更符合需求的解决方案，效果也令人佩服。

接下来，我们以 **Chromium** 开源项目为例，看看谷歌究竟在哪些方面重新“造了轮子”。

### 一、Blink 浏览器引擎

对于浏览器而言，最核心的部分莫过于引擎。在最初，Chromium 使用的是 **WebKit** 排版引擎——这是由苹果主导开发的引擎，广泛应用于苹果的 Safari 浏览器以及 Qt 等产品中。作为一个开源项目，它深受开发者的好评。

谷歌最初也积极参与 WebKit 项目，用在 Chrome 浏览器中，甚至将其移植到 Android 系统中，成为 Android 的 Web 引擎。然而，随着谷歌对 WebKit 项目的参与日益加深，由于在多进程架构等重要技术方向上与苹果的理念不合，谷歌与苹果的开发团队之间的矛盾也逐渐加深。由于 WebKit 项目由苹果主导，谷歌在添加新特性时受到许多制约，逐渐产生了不满。

最终，谷歌于2013年4月宣布脱离 WebKit，创建了 **Blink** 项目，并将其作为 Chromium 项目的一部分。Blink 从 WebKit 分叉出来后，经过谷歌工程师的不断优化，现在无论是在代码结构、代码风格，还是性能上，Blink 都已和 WebKit 相去甚远，几乎看不出 WebKit 的影子。

可以说，谷歌工程师的能力无可置疑。自 Blink 从 WebKit 分离后，它的多进程架构、硬件加速、高效性能以及对标准的支持，完全超越了 WebKit。现在，Blink 不仅被 Google Chrome 使用，还被 Microsoft Edge、Opera、Vivaldi、Brave 等多个浏览器采用，成为当前最主流的浏览器引擎。值得一提的是，微软和 Opera 之前都有自己的浏览器引擎，但在认识到 Chromium/Blink 引擎的强大后，它们纷纷放弃了自研引擎，选择了 Blink。

而 WebKit 项目并未消失，至今仍由苹果独立维护，主要用于其 Safari 浏览器，但其地位已远不及 Blink。

### 二、V8 JavaScript 引擎

JavaScript 引擎是浏览器的另一个核心部分，它的主要作用是解析和执行 JavaScript 代码。高效的 JavaScript 引擎能够显著提升网页的加载速度和响应能力。

在 WebKit 中，最初搭载的是 **JavaScriptCore（JSC）** 引擎，这是苹果开发的一个开源 JavaScript 引擎，基于 KDE 项目的 KJS 引擎和 PCRE 正则表达式库开发而来。

然而，谷歌显然对 JSC 并不满意，于是决定使用自家研发的 **V8 引擎**。V8 这一名称的灵感来源于汽车的 V 型 8 缸发动机，意味着这是一款性能非凡的引擎。

事实证明，V8 的表现也果然不负其名。它采用了先进的即时编译（JIT）技术，将 JavaScript 代码直接编译为机器码，大幅提升了执行速度。相比之下，当时的 JavaScript 引擎性能普遍较低，难以满足复杂 Web 应用的需求。V8 的出现，让 JavaScript 的性能大幅提升，推动了 Web 应用的发展。

V8 的推出，不仅拯救了 JavaScript 的未来，也促进了 JavaScript 在各大领域的应用。从前端开发到 Node.js 服务器端开发，再到 React Native 和 Electron 等移动与桌面应用，V8 引擎在多个领域得到了广泛应用，推动了 JavaScript 的创新与发展。

### 三、BoringSSL

对于浏览器而言，通信安全至关重要。SSL（Secure Sockets Layer）和 TLS（Transport Layer Security）协议用于在客户端（浏览器）和服务器之间建立加密通道，保障数据传输的安全。

最初，谷歌在 Chrome 和 Android 等产品中使用了 **OpenSSL**，这是一个开源的加密库，广泛应用于实现 SSL/TLS 协议。然而，OpenSSL 代码库庞大且复杂，维护和更新的难度也很大。谷歌在使用 OpenSSL 时积累了大量补丁，其中一些被合并到 OpenSSL 主分支，但多数未能如此。随着需求的增加，管理这些补丁变得越来越耗时和复杂。

尤其是在 OpenSSL 曝出 **Heartbleed** 漏洞后，谷歌决定自行维护一个 SSL 库，选择从 OpenSSL 中分叉出 **BoringSSL**。BoringSSL 的设计目标是简化代码、减少不必要的功能，从而降低安全漏洞的风险。

当然，BoringSSL 并没有像 Blink 和 V8 那样取得绝对的领先。这主要是由于 OpenSSL 作为一个库，用在很多项目和产品中，为了维持接口兼容性，OpenSSL 做了很多妥协。而 BoringSSL 不保证接口的兼容性，甩掉了很大一个包袱，但同时也限制了其应用范围。在软件开发中，保持接口一致性很重要，谁也不希望库升级之后，代码还需要进行大的修改。

当前，BoringSSL 在 GitHub 上托管和开源，使用 BSD 授权协议。

BoringSSL 允许谷歌根据具体项目需求进行定制化开发，而不需要依赖 OpenSSL 的主库。这使得谷歌能够更快地响应项目需求，提升产品的性能和安全性。

### 四、小结

从整体来看，**Chromium** 项目所依赖的第三方开源库多达一两百个。如果按国内的标准来评估，**Chromium** 的自研率显然不高，因为它依赖了大量的开源库。

尽管 **Chromium** 在许多方面依赖第三方开源库，谷歌却通过灵活的技术选择，确保了自有核心技术的创新与自主性。对于一些成熟的开源项目，谷歌直接采用；而对于无法满足需求的关键模块，则选择从头开始开发或深度定制。这样的务实而高效的做法，既推动了技术的创新，也显著提升了产品的竞争力。

这一做法同样对国内的技术发展具有启示意义，尤其是在构建操作系统这样复杂的系统软件时，如何通过自主创新与开源合作相结合，推动技术的进步与生态的建设。

以 **deepin 操作系统** 为例，早期其基于 **Debian** 构建，借助 Debian 提供的稳定性和广泛的软件包生态。然而，随着操作系统的发展，**deepin** 团队逐渐意识到，在一些特定功能的迭代上，自己能够比上游社区更快、更好地完成创新。但当 **deepin** 将这些改进反馈到上游社区时，却未能得到认同，因为上游社区有自己独立的发展方向和思路。

因此，在时机成熟时，**deepin** 团队果断决定绕过上游社区，直接基于 **Linux Kernel**、其他开源项目及自研组件，建立一个独立的中国桌面操作系统根社区，从而进一步掌握操作系统发展方向的主导权。



