# 详解 Linux 字体匹配机制

这几天一直在处理应用程序中显示 GB18030-2022 字符显示问题，查阅了不少资料，总算弄明白了 Linux 下 字体匹配机制。在此做一个总结，内容包括 GB18030-2022 字符集，Linux 的字体管理以及 QtWebEngine（Chromium）的字体匹配机制。

## GB18030-2022 字符集

对于大多数程序来说，可能熟悉的汉字编码是 GB2312 和 GBK 。 GB2312 字符集编码标准制定于 1980 年，收录了6763个汉字，显然汉字总量不止这六千多个，而且没有覆盖繁体字。所以到了 1995 年，制定了新的汉字编码标准，这就是 GBK 。 GBK 扩展了 GB2312 ，支持更多汉字和 Unicode ，还包含了繁体字。GBK 字符集包含了 21886 个字符，很多生僻字也能显示了。但是，相比汉语言的博大精深，这两万多个汉字仍然不够用。随着中国信息化技术的发展，有些人尴尬的发现，由于姓名中包含了生僻字，都无法上户口。

到了 2000 年，中国再次颁布了 GB18030 标准。GB18030 标准自 2000 年发布以来，经历了三次重要版本迭代，逐步扩展字符覆盖范围并强化多语言支持能力。

* GB18030-2000：首次将 GBK 规范升级为强制性国家标准，整合 GB2312 和 GBK 的汉字编码，并新增 Unicode ​CJK 统一汉字扩展 A 区的 6,582 个汉字。采用单/双/四字节混合编码，兼容 ASCII 并支持中日韩字符基础需求。适应早期互联网对繁体字、生僻字及国际化编码的需求。

* GB18030-2005：新增 Unicode ​CJK 扩展 B 区的 42,711 个汉字，总字符数达 ​70,244 个，大幅覆盖古籍、方言用字。首次加入蒙古文、藏文、维吾尔文等少数民族文字编码，提升对多民族文化数字化的兼容性。成为政务、金融等领域信息系统的基础标准，但未完全解决人名、地名生僻字问题。

* GB18030-2022​（现行标准）总收录 ​87,887 个汉字，新增 CJK 扩展 ​C/D/E/F 区的 17,000 余字，覆盖 99% 以上生僻字及康熙部首。支持 ​11 类少数民族文字​（如西双版纳傣文、傈僳文）。优化四字节编码映射，删除冗余字符。​三级实现标准，区分基础系统（Level 1）、公共服务系统（Level 3）等场景的强制要求。
